
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>config: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">financial-planning-calculator/config/database.go (0.0%)</option>
				
				<option value="file1">financial-planning-calculator/docs/docs.go (0.0%)</option>
				
				<option value="file2">financial-planning-calculator/domain/valueobjects/money.go (36.4%)</option>
				
				<option value="file3">financial-planning-calculator/domain/valueobjects/period.go (45.1%)</option>
				
				<option value="file4">financial-planning-calculator/domain/valueobjects/rate.go (48.5%)</option>
				
				<option value="file5">financial-planning-calculator/main.go (0.0%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">no coverage</span>
				<span class="cov1">low coverage</span>
				<span class="cov2">*</span>
				<span class="cov3">*</span>
				<span class="cov4">*</span>
				<span class="cov5">*</span>
				<span class="cov6">*</span>
				<span class="cov7">*</span>
				<span class="cov8">*</span>
				<span class="cov9">*</span>
				<span class="cov10">high coverage</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">package config

import (
        "database/sql"
        "fmt"
        "log"
        "os"

        _ "github.com/lib/pq"
)

type DatabaseConfig struct {
        Host     string
        Port     string
        User     string
        Password string
        DBName   string
        SSLMode  string
}

func NewDatabaseConfig() *DatabaseConfig <span class="cov0" title="0">{
        return &amp;DatabaseConfig{
                Host:     getEnv("DB_HOST", "localhost"),
                Port:     getEnv("DB_PORT", "5432"),
                User:     getEnv("DB_USER", "postgres"),
                Password: getEnv("DB_PASSWORD", "password"),
                DBName:   getEnv("DB_NAME", "financial_planning"),
                SSLMode:  getEnv("DB_SSLMODE", "disable"),
        }
}</span>

func (config *DatabaseConfig) ConnectionString() string <span class="cov0" title="0">{
        return fmt.Sprintf(
                "host=%s port=%s user=%s password=%s dbname=%s sslmode=%s",
                config.Host, config.Port, config.User, config.Password, config.DBName, config.SSLMode,
        )
}</span>

func NewDatabaseConnection(config *DatabaseConfig) (*sql.DB, error) <span class="cov0" title="0">{
        db, err := sql.Open("postgres", config.ConnectionString())
        if err != nil </span><span class="cov0" title="0">{
                return nil, fmt.Errorf("データベース接続の作成に失敗しました: %w", err)
        }</span>

        <span class="cov0" title="0">if err := db.Ping(); err != nil </span><span class="cov0" title="0">{
                return nil, fmt.Errorf("データベースへの接続に失敗しました: %w", err)
        }</span>

        <span class="cov0" title="0">log.Println("データベースに正常に接続しました")
        return db, nil</span>
}

func getEnv(key, defaultValue string) string <span class="cov0" title="0">{
        if value := os.Getenv(key); value != "" </span><span class="cov0" title="0">{
                return value
        }</span>
        <span class="cov0" title="0">return defaultValue</span>
}
</pre>
		
		<pre class="file" id="file1" style="display: none">// Package docs GENERATED BY SWAG; DO NOT EDIT
package docs

import "github.com/swaggo/swag"

const docTemplate = `{
    "schemes": {{ marshal .Schemes }},
    "swagger": "2.0",
    "info": {
        "description": "{{escape .Description}}",
        "title": "{{.Title}}",
        "contact": {},
        "version": "{{.Version}}"
    },
    "host": "{{.Host}}",
    "basePath": "{{.BasePath}}",
    "paths": {}
}`

// SwaggerInfo holds exported Swagger Info so clients can modify it
var SwaggerInfo = &amp;swag.Spec{
        Version:          "1.0",
        Host:             "localhost:8080",
        BasePath:         "/api",
        Schemes:          []string{},
        Title:            "財務計画計算機 API",
        Description:      "将来の資産形成と老後の財務計画を可視化するアプリケーションのAPI",
        InfoInstanceName: "swagger",
        SwaggerTemplate:  docTemplate,
}

func init() <span class="cov0" title="0">{
        swag.Register(SwaggerInfo.InstanceName(), SwaggerInfo)
}</span>
</pre>
		
		<pre class="file" id="file2" style="display: none">package valueobjects

import (
        "errors"
        "fmt"
        "math"
)

// Currency は通貨の種類を表す
type Currency string

const (
        JPY Currency = "JPY" // 日本円
        USD Currency = "USD" // 米ドル
        EUR Currency = "EUR" // ユーロ
)

// Money は通貨付きの金額を表す値オブジェクト
// 不変性を保証し、同一通貨間でのみ演算を許可する
type Money struct {
        amount   float64  // 金額（小数点以下2桁で丸められる）
        currency Currency // 通貨
}

// NewMoney は新しいMoney値オブジェクトを作成する（バリデーション付き）
func NewMoney(amount float64, currency Currency) (Money, error) <span class="cov10" title="10">{
        if math.IsNaN(amount) || math.IsInf(amount, 0) </span><span class="cov1" title="1">{
                return Money{}, errors.New("金額にNaNや無限大は指定できません")
        }</span>

        <span class="cov9" title="9">if currency == "" </span><span class="cov1" title="1">{
                return Money{}, errors.New("通貨は空にできません")
        }</span>

        // 浮動小数点の精度問題を避けるため、小数点以下2桁で丸める
        <span class="cov9" title="8">roundedAmount := math.Round(amount*100) / 100

        return Money{
                amount:   roundedAmount,
                currency: currency,
        }, nil</span>
}

// NewMoneyJPY は日本円のMoney値オブジェクトを作成する
func NewMoneyJPY(amount float64) (Money, error) <span class="cov0" title="0">{
        return NewMoney(amount, JPY)
}</span>

// Amount は金額を返す
func (m Money) Amount() float64 <span class="cov3" title="2">{
        return m.amount
}</span>

// Currency は通貨を返す
func (m Money) Currency() Currency <span class="cov1" title="1">{
        return m.currency
}</span>

// Add は別のMoney値を加算する（同一通貨のみ）
func (m Money) Add(other Money) (Money, error) <span class="cov3" title="2">{
        if m.currency != other.currency </span><span class="cov1" title="1">{
                return Money{}, fmt.Errorf("異なる通貨は加算できません: %s と %s", m.currency, other.currency)
        }</span>

        <span class="cov1" title="1">return NewMoney(m.amount+other.amount, m.currency)</span>
}

// Subtract は別のMoney値を減算する（同一通貨のみ）
func (m Money) Subtract(other Money) (Money, error) <span class="cov0" title="0">{
        if m.currency != other.currency </span><span class="cov0" title="0">{
                return Money{}, fmt.Errorf("異なる通貨は減算できません: %s と %s", m.currency, other.currency)
        }</span>

        <span class="cov0" title="0">return NewMoney(m.amount-other.amount, m.currency)</span>
}

// Multiply は金額に利率を乗算する
func (m Money) Multiply(rate Rate) (Money, error) <span class="cov0" title="0">{
        return NewMoney(m.amount*rate.AsDecimal(), m.currency)
}</span>

// MultiplyByFloat は金額に浮動小数点数を乗算する
func (m Money) MultiplyByFloat(multiplier float64) (Money, error) <span class="cov0" title="0">{
        if math.IsNaN(multiplier) || math.IsInf(multiplier, 0) </span><span class="cov0" title="0">{
                return Money{}, errors.New("乗数にNaNや無限大は指定できません")
        }</span>

        <span class="cov0" title="0">return NewMoney(m.amount*multiplier, m.currency)</span>
}

// IsPositive は金額が正の値かどうかを返す
func (m Money) IsPositive() bool <span class="cov5" title="3">{
        return m.amount &gt; 0
}</span>

// IsNegative は金額が負の値かどうかを返す
func (m Money) IsNegative() bool <span class="cov0" title="0">{
        return m.amount &lt; 0
}</span>

// IsZero は金額がゼロかどうかを返す
func (m Money) IsZero() bool <span class="cov0" title="0">{
        return math.Abs(m.amount) &lt; 0.01 // 1セント未満の金額はゼロとみなす
}</span>

// GreaterThan はこの金額が他の金額より大きいかどうかを返す
func (m Money) GreaterThan(other Money) (bool, error) <span class="cov0" title="0">{
        if m.currency != other.currency </span><span class="cov0" title="0">{
                return false, fmt.Errorf("異なる通貨は比較できません: %s と %s", m.currency, other.currency)
        }</span>

        <span class="cov0" title="0">return m.amount &gt; other.amount, nil</span>
}

// LessThan はこの金額が他の金額より小さいかどうかを返す
func (m Money) LessThan(other Money) (bool, error) <span class="cov0" title="0">{
        if m.currency != other.currency </span><span class="cov0" title="0">{
                return false, fmt.Errorf("異なる通貨は比較できません: %s と %s", m.currency, other.currency)
        }</span>

        <span class="cov0" title="0">return m.amount &lt; other.amount, nil</span>
}

// Equal はこの金額が他の金額と等しいかどうかを返す
func (m Money) Equal(other Money) (bool, error) <span class="cov0" title="0">{
        if m.currency != other.currency </span><span class="cov0" title="0">{
                return false, fmt.Errorf("異なる通貨は比較できません: %s と %s", m.currency, other.currency)
        }</span>

        <span class="cov0" title="0">return math.Abs(m.amount-other.amount) &lt; 0.01, nil</span>
}

// String は金額の文字列表現を返す
func (m Money) String() string <span class="cov0" title="0">{
        return fmt.Sprintf("%.2f %s", m.amount, m.currency)
}</span>

// Abs は金額の絶対値を返す
func (m Money) Abs() (Money, error) <span class="cov0" title="0">{
        return NewMoney(math.Abs(m.amount), m.currency)
}</span>
</pre>
		
		<pre class="file" id="file3" style="display: none">package valueobjects

import (
        "errors"
        "fmt"
        "math"
)

// Period は年と月で表される期間を表す値オブジェクト
type Period struct {
        years  int // 年数
        months int // 月数（0-11の範囲で正規化される）
}

// NewPeriod は新しいPeriod値オブジェクトを作成する（バリデーション付き）
func NewPeriod(years, months int) (Period, error) <span class="cov10" title="16">{
        if years &lt; 0 </span><span class="cov1" title="1">{
                return Period{}, errors.New("年数は負の値にできません")
        }</span>

        <span class="cov9" title="15">if months &lt; 0 </span><span class="cov0" title="0">{
                return Period{}, errors.New("月数は負の値にできません")
        }</span>

        // 月数を正規化（余分な月数を年数に変換）
        <span class="cov9" title="15">normalizedYears := years + (months / 12)
        normalizedMonths := months % 12

        return Period{
                years:  normalizedYears,
                months: normalizedMonths,
        }, nil</span>
}

// NewPeriodFromYears は年数のみからPeriodを作成する
func NewPeriodFromYears(years int) (Period, error) <span class="cov0" title="0">{
        return NewPeriod(years, 0)
}</span>

// NewPeriodFromMonths は月数のみからPeriodを作成する
func NewPeriodFromMonths(months int) (Period, error) <span class="cov1" title="1">{
        return NewPeriod(0, months)
}</span>

// NewPeriodFromYearsFloat は小数年数からPeriodを作成する
func NewPeriodFromYearsFloat(years float64) (Period, error) <span class="cov1" title="1">{
        if years &lt; 0 </span><span class="cov0" title="0">{
                return Period{}, errors.New("年数は負の値にできません")
        }</span>

        <span class="cov1" title="1">if math.IsNaN(years) || math.IsInf(years, 0) </span><span class="cov0" title="0">{
                return Period{}, errors.New("年数にNaNや無限大は指定できません")
        }</span>

        <span class="cov1" title="1">totalMonths := int(math.Round(years * 12))
        return NewPeriodFromMonths(totalMonths)</span>
}

// Years は年数部分を返す
func (p Period) Years() int <span class="cov5" title="4">{
        return p.years
}</span>

// Months は月数部分を返す
func (p Period) Months() int <span class="cov5" title="4">{
        return p.months
}</span>

// ToMonths は期間全体を月数に変換する
func (p Period) ToMonths() int <span class="cov1" title="1">{
        return p.years*12 + p.months
}</span>

// ToYears は期間全体を年数（浮動小数点）に変換する
func (p Period) ToYears() float64 <span class="cov1" title="1">{
        return float64(p.years) + float64(p.months)/12.0
}</span>

// Add は別の期間をこの期間に加算する
func (p Period) Add(other Period) (Period, error) <span class="cov1" title="1">{
        return NewPeriod(p.years+other.years, p.months+other.months)
}</span>

// Subtract は別の期間をこの期間から減算する
func (p Period) Subtract(other Period) (Period, error) <span class="cov0" title="0">{
        totalMonths := p.ToMonths() - other.ToMonths()
        if totalMonths &lt; 0 </span><span class="cov0" title="0">{
                return Period{}, errors.New("結果の期間は負の値にできません")
        }</span>

        <span class="cov0" title="0">return NewPeriodFromMonths(totalMonths)</span>
}

// Multiply は期間に係数を乗算する
func (p Period) Multiply(factor float64) (Period, error) <span class="cov0" title="0">{
        if factor &lt; 0 </span><span class="cov0" title="0">{
                return Period{}, errors.New("係数は負の値にできません")
        }</span>

        <span class="cov0" title="0">if math.IsNaN(factor) || math.IsInf(factor, 0) </span><span class="cov0" title="0">{
                return Period{}, errors.New("係数にNaNや無限大は指定できません")
        }</span>

        <span class="cov0" title="0">totalMonths := float64(p.ToMonths()) * factor
        return NewPeriodFromMonths(int(math.Round(totalMonths)))</span>
}

// IsZero は期間がゼロかどうかを返す
func (p Period) IsZero() bool <span class="cov0" title="0">{
        return p.years == 0 &amp;&amp; p.months == 0
}</span>

// IsPositive は期間が正の値かどうかを返す
func (p Period) IsPositive() bool <span class="cov0" title="0">{
        return p.years &gt; 0 || p.months &gt; 0
}</span>

// GreaterThan はこの期間が他の期間より大きいかどうかを返す
func (p Period) GreaterThan(other Period) bool <span class="cov0" title="0">{
        return p.ToMonths() &gt; other.ToMonths()
}</span>

// LessThan はこの期間が他の期間より小さいかどうかを返す
func (p Period) LessThan(other Period) bool <span class="cov0" title="0">{
        return p.ToMonths() &lt; other.ToMonths()
}</span>

// Equal はこの期間が他の期間と等しいかどうかを返す
func (p Period) Equal(other Period) bool <span class="cov0" title="0">{
        return p.years == other.years &amp;&amp; p.months == other.months
}</span>

// String は期間の文字列表現を返す
func (p Period) String() string <span class="cov7" title="7">{
        if p.years == 0 &amp;&amp; p.months == 0 </span><span class="cov1" title="1">{
                return "0ヶ月"
        }</span>

        <span class="cov6" title="6">if p.years == 0 </span><span class="cov3" title="2">{
                return fmt.Sprintf("%dヶ月", p.months)
        }</span>

        <span class="cov5" title="4">if p.months == 0 </span><span class="cov3" title="2">{
                return fmt.Sprintf("%d年", p.years)
        }</span>

        <span class="cov3" title="2">return fmt.Sprintf("%d年%dヶ月", p.years, p.months)</span>
}

// AddMonths は指定された月数を期間に加算する
func (p Period) AddMonths(months int) (Period, error) <span class="cov0" title="0">{
        if months &lt; 0 </span><span class="cov0" title="0">{
                return Period{}, errors.New("加算する月数は負の値にできません")
        }</span>

        <span class="cov0" title="0">return NewPeriod(p.years, p.months+months)</span>
}

// AddYears は指定された年数を期間に加算する
func (p Period) AddYears(years int) (Period, error) <span class="cov0" title="0">{
        if years &lt; 0 </span><span class="cov0" title="0">{
                return Period{}, errors.New("加算する年数は負の値にできません")
        }</span>

        <span class="cov0" title="0">return NewPeriod(p.years+years, p.months)</span>
}

// RemainingMonthsInYear は現在の年を完了するまでの残り月数を返す
func (p Period) RemainingMonthsInYear() int <span class="cov0" title="0">{
        if p.months == 0 </span><span class="cov0" title="0">{
                return 0
        }</span>
        <span class="cov0" title="0">return 12 - p.months</span>
}
</pre>
		
		<pre class="file" id="file4" style="display: none">package valueobjects

import (
        "errors"
        "fmt"
        "math"
)

// Rate はパーセンテージ利率を表す値オブジェクト（例：金利、インフレ率）
type Rate struct {
        value float64 // パーセンテージで保存（例：5%の場合は5.0）
}

// NewRate は新しいRate値オブジェクトを作成する（バリデーション付き）
func NewRate(percentage float64) (Rate, error) <span class="cov10" title="7">{
        if math.IsNaN(percentage) || math.IsInf(percentage, 0) </span><span class="cov0" title="0">{
                return Rate{}, errors.New("利率にNaNや無限大は指定できません")
        }</span>

        <span class="cov10" title="7">if percentage &lt; 0 </span><span class="cov1" title="1">{
                return Rate{}, errors.New("利率は負の値にできません")
        }</span>

        <span class="cov9" title="6">if percentage &gt; 100 </span><span class="cov1" title="1">{
                return Rate{}, errors.New("利率は100%を超えることはできません")
        }</span>

        // 精度のため小数点以下4桁で丸める
        <span class="cov8" title="5">roundedValue := math.Round(percentage*10000) / 10000

        return Rate{
                value: roundedValue,
        }, nil</span>
}

// NewRateFromDecimal は小数値からRateを作成する（例：5%の場合は0.05）
func NewRateFromDecimal(decimal float64) (Rate, error) <span class="cov4" title="2">{
        return NewRate(decimal * 100)
}</span>

// AsDecimal は利率を小数で返す（例：5%の場合は0.05）
func (r Rate) AsDecimal() float64 <span class="cov6" title="3">{
        return r.value / 100
}</span>

// AsPercentage は利率をパーセンテージで返す（例：5%の場合は5.0）
func (r Rate) AsPercentage() float64 <span class="cov7" title="4">{
        return r.value
}</span>

// IsValid は利率が有効かどうかを返す（非負かつ100%以下）
func (r Rate) IsValid() bool <span class="cov0" title="0">{
        return r.value &gt;= 0 &amp;&amp; r.value &lt;= 100
}</span>

// IsZero は利率がゼロかどうかを返す
func (r Rate) IsZero() bool <span class="cov0" title="0">{
        return math.Abs(r.value) &lt; 0.0001 // 0.0001%未満の利率はゼロとみなす
}</span>

// Add は別の利率をこの利率に加算する
func (r Rate) Add(other Rate) (Rate, error) <span class="cov0" title="0">{
        return NewRate(r.value + other.value)
}</span>

// Subtract は別の利率をこの利率から減算する
func (r Rate) Subtract(other Rate) (Rate, error) <span class="cov0" title="0">{
        return NewRate(r.value - other.value)
}</span>

// Multiply は利率に係数を乗算する
func (r Rate) Multiply(factor float64) (Rate, error) <span class="cov0" title="0">{
        if math.IsNaN(factor) || math.IsInf(factor, 0) </span><span class="cov0" title="0">{
                return Rate{}, errors.New("係数にNaNや無限大は指定できません")
        }</span>

        <span class="cov0" title="0">if factor &lt; 0 </span><span class="cov0" title="0">{
                return Rate{}, errors.New("係数は負の値にできません")
        }</span>

        <span class="cov0" title="0">return NewRate(r.value * factor)</span>
}

// GreaterThan はこの利率が他の利率より大きいかどうかを返す
func (r Rate) GreaterThan(other Rate) bool <span class="cov0" title="0">{
        return r.value &gt; other.value
}</span>

// LessThan はこの利率が他の利率より小さいかどうかを返す
func (r Rate) LessThan(other Rate) bool <span class="cov0" title="0">{
        return r.value &lt; other.value
}</span>

// Equal はこの利率が他の利率と等しいかどうかを返す
func (r Rate) Equal(other Rate) bool <span class="cov0" title="0">{
        return math.Abs(r.value-other.value) &lt; 0.0001
}</span>

// String は利率の文字列表現を返す
func (r Rate) String() string <span class="cov0" title="0">{
        return fmt.Sprintf("%.4f%%", r.value)
}</span>

// CompoundFactor は指定された期間数に対する複利係数を計算する
// 計算式: (1 + rate)^periods
func (r Rate) CompoundFactor(periods int) float64 <span class="cov4" title="2">{
        if periods &lt; 0 </span><span class="cov0" title="0">{
                return 0
        }</span>

        <span class="cov4" title="2">if periods == 0 </span><span class="cov1" title="1">{
                return 1
        }</span>

        <span class="cov1" title="1">return math.Pow(1+r.AsDecimal(), float64(periods))</span>
}

// MonthlyRate は年利を月利に変換する
func (r Rate) MonthlyRate() (Rate, error) <span class="cov1" title="1">{
        // 年利を月利に変換: (1 + annual_rate)^(1/12) - 1
        monthlyDecimal := math.Pow(1+r.AsDecimal(), 1.0/12.0) - 1
        return NewRateFromDecimal(monthlyDecimal)
}</span>

// AnnualRate は月利を年利に変換する
func (r Rate) AnnualRate() (Rate, error) <span class="cov0" title="0">{
        // 月利を年利に変換: (1 + monthly_rate)^12 - 1
        annualDecimal := math.Pow(1+r.AsDecimal(), 12.0) - 1
        return NewRateFromDecimal(annualDecimal)
}</span>
</pre>
		
		<pre class="file" id="file5" style="display: none">package main

import (
        "log"
        "net/http"

        "github.com/labstack/echo/v4"
        "github.com/labstack/echo/v4/middleware"
        echoSwagger "github.com/swaggo/echo-swagger"

        _ "financial-planning-calculator/docs"
)

// @title 財務計画計算機 API
// @version 1.0
// @description 将来の資産形成と老後の財務計画を可視化するアプリケーションのAPI
// @host localhost:8080
// @BasePath /api
func main() <span class="cov0" title="0">{
        e := echo.New()

        // ミドルウェア設定
        e.Use(middleware.Logger())
        e.Use(middleware.Recover())
        e.Use(middleware.CORS())

        // Swagger UI
        e.GET("/swagger/*", echoSwagger.WrapHandler)

        // ヘルスチェック
        e.GET("/health", func(c echo.Context) error </span><span class="cov0" title="0">{
                return c.JSON(http.StatusOK, map[string]string{
                        "status":  "ok",
                        "message": "財務計画計算機 API サーバーが正常に動作しています",
                })
        }</span>)

        // API ルートグループ
        <span class="cov0" title="0">api := e.Group("/api")

        // 基本的なエンドポイント（後で実装）
        api.GET("/", func(c echo.Context) error </span><span class="cov0" title="0">{
                return c.JSON(http.StatusOK, map[string]string{
                        "message": "財務計画計算機 API v1.0",
                        "docs":    "/swagger/index.html",
                })
        }</span>)

        <span class="cov0" title="0">log.Println("サーバーを開始します: http://localhost:8080")
        log.Println("Swagger UI: http://localhost:8080/swagger/index.html")

        e.Logger.Fatal(e.Start(":8080"))</span>
}
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
