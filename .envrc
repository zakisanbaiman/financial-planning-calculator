# direnv configuration for financial-planning-calculator
# ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å…¥ã‚‹ã¨ã€Dockerå†…ã®Goã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã‚ˆã†ã«ãªã‚Šã¾ã™

# ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦PATHã«è¿½åŠ 
export PROJECT_ROOT="$(pwd)"
export PATH="${PROJECT_ROOT}/.direnv/bin:${PATH}"

# ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
mkdir -p .direnv/bin

# Goãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ
cat > .direnv/bin/go << 'EOF'
#!/bin/bash
echo "ğŸ³ Using Go in Docker container..." >&2
docker-compose run --rm backend go "$@"
EOF
chmod +x .direnv/bin/go

# golangci-lintãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ
cat > .direnv/bin/golangci-lint << 'EOF'
#!/bin/bash
echo "ğŸ³ Using golangci-lint in Docker container..." >&2
docker-compose run --rm backend golangci-lint "$@"
EOF
chmod +x .direnv/bin/golangci-lint

echo "âœ… Dockerç’°å¢ƒãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¾ã—ãŸ"
echo "   - 'go' ã‚³ãƒãƒ³ãƒ‰ã¯Dockerå†…ã§å®Ÿè¡Œã•ã‚Œã¾ã™"
echo "   - 'golangci-lint' ã‚³ãƒãƒ³ãƒ‰ã‚‚Dockerå†…ã§å®Ÿè¡Œã•ã‚Œã¾ã™"
